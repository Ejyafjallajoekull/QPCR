<html>
<head>
    <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">
    <style>
    .box {
        display: flex;
        box-sizing:border-box;
        padding: 10px;
        justify-content: center;
        align-items: center;
    }
    .InputAddon-field {
        resize: none;
        height: 52px;
    }
    .icon {
        height:30px;
        width:30px;
    }
    .InputAddOn {
        display: flex;
        margin-bottom: 20px;
    }
    .InputAddOn-field:not(:first-child) {
        border-left: 0;
    }
    .InputAddOn-field:not(:last-child) {
        border-right: 0;
    }

    .InputAddOn-item {
        background-color: rgba(147, 128, 108, 0.1);
        color: #666666;
        font: inherit;
        font-weight: normal;
    }

    .InputAddOn-field {
        display: flex;
        border: 1px solid rgba(147, 128, 108, 0.25);
        padding: 10px 10px;
        width: 100%;
    }
    .InputAddOn-item {
        border: 1px solid rgba(147, 128, 108, 0.25);
        padding: 10px 10px;
    }
    .InputAddOn-field:first-child,
    .InputAddOn-item:first-child {
        border-radius: 2px 0 0 2px;
    }
    .InputAddOn-field:last-child,
    .InputAddOn-item:last-child {
        border-radius: 0 2px 2px 0;
    }
    .row{
        margin-top: 30px;
        margin-bottom: 30px;
        margin-left: 30px;
        margin-right: 30px;
    }
    .navbar {
        margin-bottom: 0;
        background-color: #2d2d30;
        border: 0;
        font-size: 15 px;
        text-decoration: none;
        letter-spacing: 4px;
        opacity:0.9;
    }
    .navbar-nav li.active a {
        color: #fff;
        background-color:#29292c;
    }
    .navbar-nav li a:hover {
        color: #fff;
    }
    #active{
    background-color: #4CAF50;
    color: white;
    }
    tr:nth-child(even) {
        background-color: #E3DDDD;
    }
    .login {
    margin-bottom:5px;
    }

    .dropdown-menu {
    width: 300px;
    }
    </style>
    <title>OpenTrons - Account</title>
</head>
    <body>
        <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><symbol id="key" viewBox="0 0 53.736 53.736"><title>key</title><path d="M52.951,43.012L32.108,23.145c3.086-6.662,2.125-13.407-2.632-18.164c-3.354-3.354-8.003-5.178-12.738-4.964 C11.93,0.218,7.562,2.367,4.438,6.064c-5.673,6.718-5.203,16.835,1.071,23.032c4.379,4.326,10.551,5.762,16.616,3.897l2.395,2.442 c0.188,0.191,0.445,0.3,0.714,0.3h4.027v3c0,0.553,0.448,1,1,1h3v3c0,0.553,0.448,1,1,1h4v4c0,0.553,0.448,1,1,1h2v1.776 c0,0.965,0.083,1.503,0.843,2.263c0.556,0.558,1.295,0.897,2.157,0.961h8c0.552,0,1-0.447,1-1v-9 C53.261,43.462,53.149,43.201,52.951,43.012z M51.261,51.736l-6.923,0.003c-0.309-0.023-0.6-0.157-0.819-0.377 c-0.258-0.258-0.258-0.258-0.258-0.85v-2.776c0-0.553-0.448-1-1-1h-2v-4c0-0.553-0.448-1-1-1h-4v-3c0-0.553-0.448-1-1-1h-3v-3 c0-0.553-0.448-1-1-1h-4.607l-2.534-2.585c-0.269-0.275-0.674-0.371-1.039-0.245c-5.525,1.9-11.194,0.692-15.166-3.231 C1.379,22.204,0.962,13.28,5.966,7.355c2.759-3.266,6.614-5.162,10.855-5.34c4.189-0.171,8.281,1.421,11.24,4.38 c4.339,4.34,5.045,10.361,1.936,16.521c-0.199,0.393-0.116,0.87,0.203,1.174l21.06,20.075V51.736z"/><path d="M8.97,8.516c-1.133,1.134-1.757,2.641-1.757,4.243s0.624,3.109,1.757,4.242c1.133,1.134,2.64,1.758,4.243,1.758 s3.109-0.624,4.243-1.758c1.133-1.133,1.757-2.64,1.757-4.242s-0.624-3.109-1.757-4.243C15.116,6.176,11.309,6.176,8.97,8.516z M16.041,15.587c-1.512,1.512-4.146,1.512-5.657,0c-0.755-0.756-1.171-1.76-1.171-2.828s0.416-2.073,1.171-2.829 c0.78-0.779,1.804-1.169,2.829-1.169s2.049,0.39,2.829,1.169c0.755,0.756,1.171,1.761,1.171,2.829S16.797,14.831,16.041,15.587z"/></symbol></svg>
        <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><symbol id="letter" viewBox="0 0 512.001 512.001"><title>letter</title><g> <g> <path d="M501.801,90.455H10.199C4.567,90.455,0,95.021,0,100.654v268.728c0,28.764,23.4,52.165,52.165,52.165h407.671 c28.764,0,52.165-23.401,52.165-52.165V100.654C512,95.021,507.433,90.455,501.801,90.455z M491.602,369.381 c0,17.516-14.25,31.766-31.766,31.766H52.165c-17.516,0-31.766-14.251-31.766-31.766V122.906l229.14,187.584 c1.88,1.538,4.17,2.307,6.461,2.307c2.287,0,4.574-0.767,6.452-2.3l177.306-144.829c4.362-3.564,5.01-9.988,1.447-14.351 c-3.565-4.363-9.988-5.011-14.351-1.446L256.007,289.423L37.879,110.853h453.723V369.381z"/> </g> </g><g> <g> <path d="M469.923,127.859c-3.563-4.363-9.99-5.011-14.35-1.447l-3.06,2.499c-4.363,3.564-5.011,9.988-1.448,14.351 c2.015,2.468,4.948,3.747,7.905,3.747c2.269,0,4.552-0.754,6.445-2.3l3.06-2.499C472.838,138.647,473.486,132.222,469.923,127.859 z"/> </g> </g></symbol></svg>
        <nav class="navbar navbar-inverse navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="http://garp.pythonanywhere.com/">OpenTrons</a>

                </div>
                <div class= "collapse navbar-collapse">
                    <ul class="nav navbar-nav navbar-center">
                        <li><a href="http://garp.pythonanywhere.com/newexp">New Experiment</a></li>
                        <li><a href="http://garp.pythonanywhere.com/oldresults">Old Results</a></li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                    {% if logged_in %}
                        <li><a id = "active" href="http://garp.pythonanywhere.com/account"><span class="glyphicon glyphicon-user"></span> {{user}}</a></li>
                        {% else %}
                        <li><a href="http://garp.pythonanywhere.com/registration"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
                        {%endif%}
                        {% if logged_in %}
                        <li><a onclick="current_url.submit();"><span class="glyphicon glyphicon-user"></span> Logout</a></li>
                            <form id="current_url" action="/logout" method="POST">
                                <input type="hidden" name="current_url" value="{{request.path}}"/>
                            </form>

                        {% else %}
                        <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-log-in"></span> Login</a>
            				<div class="dropdown-menu" style="padding: 15px; padding-bottom: 10px;">
            				<form action="http://garp.pythonanywhere.com/login" class="form-horizontal"  method="POST" accept-charset="UTF-8">
            				  <input id="name" class="form-control login" type="text" name="name" placeholder="Username.."/>
            				  <input id="password" class="form-control login" type="password" name="password" placeholder="Password.."/>
            				  <input class="btn btn-primary" type="submit" name="submit" value="Login"/>
            				  <input type="hidden" name="current_url" value="{{request.path}}"/>
            				</form>
            				</div>
		            	</li>
		            	{%endif%}
                    </ul>
                </div>
            </div>
        </nav>

    <div class= "container" style="margin-top:100px">
    <div class="row">
    {% if logged_in %}
        {% if logged_in %}
            <div class="InputAddOn">
                <span class="InputAddOn-item"><svg class="icon"><use xlink:href="#letter" /></svg> </span>
                <b><input class="InputAddon-field" readonly type="form-control" style="border: none" name="exp name" placeholder="{{email}}" ></b>
            </div>
        {% endif %}
        <form action="/account" method="POST">
            <div class="InputAddOn">
                <span class="InputAddOn-item"><svg class="icon"><use xlink:href="#letter" /></svg> </span>
                <input class="InputAddon-field" name="email" placeholder="Enter your new email address" style="width: 350px;">
            </div>
            <input type="submit" class="btn btn-success" value="Confirm email">
        </form>
        <div class="row"></div>
        <form action="/account" method="POST">
        <div class="InputAddOn">
            <span class="InputAddOn-item"><svg class="icon"><use xlink:href="#key" /></svg> </span>
            <input class="InputAddon-field" name="oldpassword" placeholder="Enter your old password" style="width: 350px;">
        </div>
        {% if (change != None and not change) %}

        <div class="InputAddOn">
            <span class="InputAddOn-item"><svg class="icon"><use xlink:href="#key" /></svg> </span>
            <input class="InputAddon-field" type="password" name="newpassword1" placeholder="You entered a wrong password!" style="width: 350px;color:red;">
        </div>

        <div class="InputAddOn">
            <span class="InputAddOn-item"><svg class="icon"><use xlink:href="#key" /></svg> </span>
            <input class="InputAddon-field" type="password" name="newpassword2" placeholder="You entered a wrong password!" style="width: 350px;color:red;">
        </div>
        {% else %}
        <div class="InputAddOn">
            <span class="InputAddOn-item"><svg class="icon"><use xlink:href="#key" /></svg> </span>
            <input class="InputAddon-field" type="password" name="newpassword1" placeholder="Enter your new password" style="width: 350px;">
        </div>

        <div class="InputAddOn">
            <span class="InputAddOn-item"><svg class="icon"><use xlink:href="#key" /></svg> </span>
            <input class="InputAddon-field" type="password" name="newpassword2" placeholder="Confirm your new password" style="width: 350px;">
        </div>
        {% endif %}
        <input type="submit" class="btn btn-success" value="Confirm password">
        </form>
        {% if (change != None and change) %}
            <div>
                <br>You successfully changed your password.
            </div>
        {% endif %}
    {% else%}
        <div class="box">
            <div>
            Please log in or
            <a href="http://garp.pythonanywhere.com/registration"><button class="btn" type="button"><i class="fa fa-user-plus"></i> sign up HERE</button></a>
            to use our service.
            </div>
        </div>
    {% endif %}
    </div>
    </div><!-- /.container -->
    </body>
</html>
